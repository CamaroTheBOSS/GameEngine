#include "engine_rand.h"

constexpr u32 randomMin = 2;
constexpr u32 randomMax = 99968008;
u32 randomNumbers[] = {
	1706220, 2,	2998326,	7324911,	977285,		7614172,
	5372439,	3343239,	9405090,	493102,		4704943,
	6369811,	4549511,	8835557,	34415,		7580540,
	3802045,	2436711,	3890579,	9233612,	2624780,
	966753,		3838799,	5613984,	9908402,	669180,
	4827667,	5777205,	8909092,	4086663,	558951,
	8469832,	2622484,	4841411,	7100024,	8009380,
	3897537,	9494762,	8461502,	158606,		373031,
	6105258,	1264398,	4643517,	2334477,	7110983,
	7401396,	5884595,	7692621,	5469942,	3114938,
	1622875,	134163,		1809684,	2682374,	8347007,
	5434274,	8352963,	9902538,	9661554,	6635235,
	4486896,	8047031,	3753931,	2112099,	8765638,
	2862273,	2675091,	3117346,	4633880,	7137900,
	6808198,	3644292,	340496,		9395500,	8403385,
	6693618,	1935731,	9761147,	4929305,	1968121,
	2687637,	3132525,	8617055,	9191371,	1655755,
	2420318,	1785622,	1797218,	372211,		1925208,
	6343986,	2421321,	1297186,	2493968,	680611,
	1640785,	896580,		3578674,	680300,		447966,
	65911312, 85701076, 38585727, 19864207, 93213701,
	86059015, 83597669, 51592897, 55990401, 89737413,
	96077213,  6766136, 93220753, 22312803, 59122790,
	13541217, 83518386, 34501890, 94955229, 72664052,
	95292802, 23600377, 84711500, 17562046,  7812682,
	 7406515, 88902784, 10396633, 60266907,  6609267,
	57261290, 38791846, 89770392, 41679002,  7076266,
	58660325, 65310920, 94790593, 56781263, 56366842,
	11964084, 17136007, 15566743, 58641703, 54747897,
	 4943670, 72951689, 29706898, 47318987, 17956833,
	87644957, 47082189, 41038713, 41402539, 53506644,
	31575543, 64385260, 13777503, 40496419, 70939966,
	 4378744,  5966529, 59268642, 11897941,  4258671,
	31926195, 35171484, 62640584, 56203409, 61932028,
	 9269796, 53552309, 39295941,  6798308, 11466217,
	21577236, 64718216, 71862938, 98550788, 50868496,
	38407559, 87919982, 81309878, 27140820, 64007231,
	33754452, 40054032, 75457785,    14105, 99940750,
	29469255, 76961052, 87835958, 21553116, 81027299,
	96628746, 27618520, 11123725, 70503326, 83606710,
	21202855, 92646147, 52595551, 13898000,  7268679,
	31882857, 57684163, 46940820, 25735244, 26998944,
	11103858, 26728452, 89763717, 63712714, 58273913,
	58335843, 33042632, 53247163,   252101, 78176735,
	47755054,  2454802, 28485736, 35583885, 64411947,
	  917883, 52139391, 83622290, 33609080, 26632184,
	 7713662, 37542642, 85874284, 47967880, 59452507,
	61909512, 88530112, 79925345, 97110556, 18229919,
	66346193, 46988602, 92973476, 87033238, 52363794,
	36314470, 61761098, 43346855, 54433252, 94396165,
	54325281, 83564531, 78912625, 87244471, 24415680,
	81749305, 23878864, 67286274, 89726963, 27097630,
	 3736381, 20942646, 60161867, 47825690, 24203512,
	44084854, 98044769, 51405118, 86678079, 37107811,
	 3650450, 35253031,  5524639, 69411856, 66921195,
	  746536, 78813770, 74530716, 51609330, 43449260,
	51378097,  8424384, 81143776, 87730644, 10563359,
	54481087,  5748276, 43677009, 89571788, 68590357,
	74715151, 96301617, 75104144, 77505518, 55384930,
	11102409, 55742154, 63288108, 14992113, 72793332,
	74657144, 14484877, 85437810,  3546790, 85987131,
	63152507,  2679011, 54522917, 61517469, 43093008,
	42705838, 58391601, 35694288, 92950523, 25509730,
	36468561, 36126920,  9721104, 30761447, 13844353,
	16108568, 90407762, 57967190, 77513989, 66170884,
	44369496, 43450688, 53512803, 24108078, 47339900,
	82133690, 24674588,  1788730, 48418705, 59082627,
	60359242, 67778582,  9272446, 62864806, 58926608,
	 8124795, 32696226,  6361765, 52494600, 63813383,
	39288804, 65221870, 86609973, 26441509, 22517786,
	46667264, 68486232, 74654673, 48336699, 75849594,
	46133641, 79489060, 19183792, 52993722, 73991232,
	85425210, 11399062, 90342375, 39547434, 39934837,
	 5766181, 26185722, 70520658, 46672412, 50726502,
	80794129, 63330205, 33760150, 95957857, 93462498,
	59055196, 48292368, 92075395,  2009728, 21070857,
	36973300, 73606532, 31299639, 33276898,  3894327,
	46161708, 63985966, 51566413, 10533248, 80562212,
	11156083, 76592405, 64716949, 44073290, 33580843,
	36554733, 19419093, 72178180, 36496979, 96959084,
	60517319, 98530892, 49222982, 61991884, 56810353,
	26331994, 89573958,  6814030, 96538024, 55590516,
	88091133, 46703039, 23783663, 41003281, 98097262,
	15077206, 80275461, 53546330, 13525777, 57255887,
	97736292, 27712957, 31814403, 16265523, 65829429,
	72634836,  3273940, 82670697, 21276642, 73056613,
	56651825, 71775164, 10946278, 69494176, 18611652,
	14942939, 18854750, 27672538, 57978202, 23279480,
	73417076, 66142628, 19962009, 58941404,  5351322,
	28280608, 71925009, 48059590, 92637588, 69963926,
	83044481, 67925877, 44538042, 41976699, 75787508,
	 7577096, 72451026, 19380976, 68491366, 40163820,
	38533426, 49793124, 17080786, 23682400, 45097311,
	11378151, 54904925, 68775970, 25788150, 51422659,
	44515617, 66655370, 86489665, 24357357, 34608665,
	13049671, 58016117, 64252591, 49131359,  1464760,
	82536865, 36736451, 61100247, 78612082, 95600632,
	48068649, 29821219,   377086, 62891732, 29782730,
	68282451, 45174164, 86603933, 81549738, 28520122,
	77240357, 60972247, 95437123, 22672086,  2499059,
	32210072, 70361552, 77473167, 71360346, 29202283,
	15457458, 40113128, 86451567, 22494360, 76995551,
	48145281, 88755088, 46195404, 35905921, 92083095,
	18301974, 57302895,  6744110, 71195155, 51816487,
	67368093, 59726110, 22620248, 84572167, 59839704,
	69954196, 66970326, 90030163, 22638388, 33896049,
	86129531, 57285955, 49928351,  9519770, 41196934,
	74322781, 43038946, 99968008, 94627565, 53142875,
	26250058, 32445391, 33498697,  3743232, 34611602,
	34251819, 85046795, 19655067,  4156158, 76994919,
	47461103, 14141197, 72965915,  3321795, 77137944,
	82657187, 80656553, 18102920,  6922489, 70194692,
	51193498, 83735601, 33827630,  8037740, 35226350,
	17444792, 52018764,  8061275, 15010377, 17240785,
	93033892, 71555290,  1939359, 83651683, 10731920,
	36326550, 22949028, 33515265, 56786090, 14244969,
	58047903, 62560678, 76996555, 73666557, 94995194,
	69570409, 60226136, 74190674,  6712045, 28238560,
	43305028, 61538029, 34007941, 89372006, 16977257,
	53095409, 16260278, 20773193, 11098703,  3833925,
	34322771, 56158495, 95959979, 48736265, 58089387,
	66509413, 54028509, 77023221, 92283094, 94345740,
	13968664, 99542478, 58894219, 97113757, 86900698,
	 6004175, 37300061, 22457865, 89478787, 41663014,
	19176881, 19897898, 67942289, 12929485, 54597525,
	76993825,  9321282, 80548537, 86225192, 56632718,
	20106360,  7606126, 82950164, 32071119, 36292807,
	27799632, 64175377, 64808635, 71723458, 78225619,
	86490477, 39098286, 66421847, 11370697, 50896164,
	45413937, 90851987, 57842255, 31574295, 32004263,
	39831840, 56455247,   740686, 44594314, 28514571,
	66779624, 47950983, 46845225, 47744841, 42370554,
	34838038, 36498739,  3778359, 63172513,  6829283,
	81821777, 97588000, 21892602, 58323908, 32434211,
	87100208, 11669698,  9988797, 66286128, 86126326,
	79214398, 66384831, 99689322, 23112145, 23459086,
	39931613, 23128891, 65563887, 95024312, 33559547,
	35028877, 25602237, 90158288, 29912665,  2052726,
	44454996, 87877090, 84390906, 94171636, 97220119,
	91637571, 81121836, 31541452, 37749677, 40181141,
	85887812, 55898381, 48586774, 92440250, 94892355,
	20881296, 68530845, 79671784, 88334110, 47127720,
	94547383, 86107864, 97101994, 29703114, 64886523,
	25672107, 20175547, 94523871, 83498403, 32577893,
	78120313, 11275129, 82111644, 74729990,  3846501,
	20577167, 14956302, 25854314, 45803821, 95731911,
	55092061, 30859511, 56186815, 75541406,  3920875,
	63149487, 32175498, 81838680, 77080000, 69478218,
	68623083, 59479677, 42522665, 38306480,  2506959,
	55291269, 34398989, 20292003, 65738768, 86605869,
	88907246, 82262193,  3830522, 10144184, 16618257,
	55733999, 43804898, 90633186, 13305419, 88717332,
	 4944907, 50844241, 60304802, 51640755, 13381330,
	32951522, 47507081, 43780032, 98911152, 62621427,
	56992105, 76882406, 89039824, 12400190, 13219046,
	66940788, 24552639, 79839748, 31718776, 72743085,
	29209569, 35725295, 30166165, 63547884, 80015370,
	78261720, 55930205, 89070310, 75617706,  7506228,
	68171885, 27942000, 55126833, 74636878, 61991306,
	54285343, 20746055, 31616191, 24250084, 48418856,
	82764179, 46961153,  2860621, 20236965, 25430975,
	38262257, 20515368, 52256493, 78698135, 75104852,
	25232257, 15029199, 85694480, 18717381, 23490628,
	43248476,  8399203, 65930227, 34311135, 60249544,
	86856588, 13290783, 93369893, 44564763, 54563629,
	34798768, 29464250, 22022843, 69009721, 18379973,
	62430049, 66694600, 82116797, 48979844, 42632615,
	13416582, 82961172,    832736, 32022213, 78383038,
	64348212, 58410592, 56842375, 64910846, 39273955,
	86704614, 16617890, 55872315, 84440093, 48634551,
	86000146, 59647234, 70025173, 72997770, 30152109,
	47786213, 16947015, 24797559, 13138964,   739928,
	71362633, 54953028, 31688135,  2887929, 92366627,
	  299268, 82989398, 65597019, 65789880, 37340159,
	98830998, 45367735,  8740250,  3932841, 89124714,
	29538098,  7963084, 89598969, 45794207, 90096203,
	54176890, 25636365, 40288988, 93501803, 21539525,
	99835387, 70159849, 82312226, 31419730, 74806391,
	21751676, 19388910, 37115670, 24581520, 16750632,
	11624067, 43673497, 85324456, 90410683,  3835928,
	93268117, 20544433, 12873899, 99374144, 63415941,
	63697091, 11286014, 61582648, 10264053, 10274033,
	58149718,  8789084, 64456791, 33215892,  7545948,
	86619383, 56869672, 62586621, 40876913,  8119661,
	70699343, 20881276, 28897843, 43682123, 16120480,
	64530062,  3973170, 98125940, 35247944,  3236337,
	90582602, 33951505,  1681940, 89958984,  1923987,
	74315661, 73302856, 63613868, 24018074, 57298552,
	36229355, 50716824, 39206694, 42487261, 39386316,
	34359564, 25039298, 98714743, 10580353, 55207774,
	29095464,   747395, 81382230, 96324281, 90647230,
	31840776, 43001957, 58491857, 78874441, 35998691,
	11576241, 92844370, 75158966,  6359408, 94688839,
	83560182, 10347548, 45928825, 68078144, 66993559,
	10958989, 76904260, 58511851, 24926438, 64971955,
	63779426, 43697058, 79949283, 95426638, 96310464,
	69451883, 69466943, 70301241, 23362758, 85943112,
	85177953, 35299419, 94229263, 86457568, 52227785,
	21025722, 27422287, 89408666, 89921191, 89258355,
	  139888, 66461202, 96790060, 45159982,  5024449,
	82142615, 33865254, 96581476, 38486459, 80404063,
	32550390, 70097301, 31012744, 13441475, 65151553,
	81215078, 53081884, 94221190, 61974668, 75167950,
	 4750646, 76605936, 22608216, 24020111, 86874324,
	97750254, 25194260, 93646589, 86628840, 46454724,
	38732830, 44069760, 91903190,  7205119, 11484845,
	66355201, 43649002, 12453442,  9495457, 78490149,
	39762457, 76676453, 77509487,  5503845, 56635925,
	24711580, 24426961, 29444695, 16238968, 48659218,
	99578152, 22365983, 13425687, 39263849, 18220507,
	56750894, 83981445, 62429189, 44544927, 38779113,
	36036961, 24502003, 30416965,  4756799,  8701118,
	34799113, 35845796, 76369552, 62033203, 21477192,
	97904176, 57395020, 96677925, 95937110, 12717323,
	91658697, 94117208,  6355447, 71990966, 27598266,
	 1350928, 69737448, 55823398, 61999162, 39691745,
	96813640, 20490878, 94871065, 48765488, 45859394,
	  310878, 61631471, 73127138, 62149802, 19626765,
	17732208, 32016047, 77370582,  7212279, 93295417,
	70353981, 49250232, 44471625, 35409903, 21441878
};

inline
RandomSeries RandomSeed(u32 seed) {
	RandomSeries result = {};
	result.index = seed % ArrayCount(randomNumbers);
	return result;
}

inline
u32 NextRandom(RandomSeries& series) {
	u32 result = randomNumbers[series.index++];
	if (series.index >= ArrayCount(randomNumbers)) {
		series.index = 0;
	}
	return result;
}

inline
f32 RandomUnilateral(RandomSeries& series) {
	f32 result = (NextRandom(series) - randomMin) / f4(randomMax);
	return result;
}

inline
f32 RandomBilateral(RandomSeries& series) {
	f32 result = RandomUnilateral(series) * 2.f - 1.f;
	return result;
}

inline
f32 RandomInRange(RandomSeries& series, f32 min, f32 max) {
	Assert(min < max);
	f32 result = RandomUnilateral(series) * (max - min) + min;
	return result;
}

inline
u32 RandomChoice(RandomSeries& series, u32 count) {
	return NextRandom(series) % count;
}

inline
u32 RandomChoiceBetween(RandomSeries& series, u32 min, u32 max) {
	return min + NextRandom(series) % (max - min);
}

